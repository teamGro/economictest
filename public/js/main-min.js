!function(){"use strict";function t(t){return t}const s=8;let e={mistakes:0,success:0};window.testData;let n="http://localhost:3000",a="Как хорошо вы разбираетесь в новостях бизнеса";function i(t){return t}class r{constructor(){this.data=window.testData}getLayout(){let t=document.querySelector(".container");t.innerHTML="",t.innerHTML=function(t){let r="",l={};return 0==e.success?(r="Мне больше интересен футбол",l.src="img/football.png",l.src2x="img/football@2x.png",l.alt='"Мне больше интересен футбол"',l.myClassName='"test__box box box--zero"'):e.success<=3?(r='Читаю <a href="#">vc.ru</a> с экрана попутчика в метро',l.src="img/women.png",l.alt='"Читаю с экрана попутчика в метро"',l.myClassName='"test__box box box--three"'):e.success<=5?(r="Бизнес это интересно,<br> но где взять столько времени?",l.src="img/hand.png",l.alt='"Бизнес это интересно, но где взять столько времени?"',l.myClassName='"test__box box box--five"'):e.success<=7?(r='Читаю <a href="#">vc.ru</a> каждый день, но работать тоже нужно',l.src="img/man.png",l.alt='"Читаю vc.ru каждый день, но работать тоже нужно"',l.myClassName='"test__box box box--seven"'):(r='Я работаю<br> в редакции <a href="#">vc.ru</a>',l.src="img/editor.png",l.alt='"Я работаю в редакции vc.ru"',l.myClassName='"test__box box box--eight"'),`\n\n    <div class="test test--game">\n      <div class="test__wrap test__wrap--result">\n        <p class="test__level">${e.success} из ${s} правильных ответов</p>\n        <p class="test__result">${r}</p>\n        <ul class="test__socials socials">\n\n          <li class="socials__item">\n            <a class="socials__link" href="http://www.facebook.com/sharer/sharer.php?s=100&p%5Btitle%5D=${a}&p%5Burl%5D=${n}" target="_blank">\n              <span class="visually-hidden">fb</span>\n              <i class="socials__icon fab fa-facebook-f"></i>\n              <span class="socials__text">Поделиться</span>\n            </a>\n          </li>\n\n          <li class="socials__item">\n            <a class="socials__link" href="http://vk.com/share.php?url=${n}&title=${a}&image=${i(l.src)}&noparse=true" target="_blank">\n              <span class="visually-hidden">vk</span>\n              <i class="socials__icon fab fa-vk"></i>\n            </a>            \n          </li>\n\n          <li class="socials__item">\n            <a class="socials__link" href="https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Ffiddle.jshell.net%2F_display%2F&text=${a}&url=${n}" target="_blank" >\n              <span class="visually-hidden">twitter</span>\n              <i class="socials__icon fab fa-twitter"></i>\n            </a>\n          </li>\n        </ul>\n\n        <button class="test__repeat">\n          ${t.btnTitle}\n          <i class="test__refresh fas fa-redo"></i>\n        </button>\n      </div>\n\n      <div class=${i(l.myClassName)}>\n        <img class="box__img" src=${i(l.src)} alt=${i(l.alt)} data-rjs="3">\n      </div>\n    </div>\n  `}(this.data.result)}init(){this.getLayout(),this.repeat()}repeat(s=1){document.querySelector(".test__repeat").addEventListener("click",n=>{return n.preventDefault(),e.success=0,e.mistakes=0,(new c).init(t(s))})}}class l{constructor(){this.data=window.testData}getLayout(s,e){let n=document.querySelector(".container");n.innerHTML="",n.innerHTML=function(t,s){let e="";for(let n in t.answers)t.answers[n].answer==s&&(e=t.answers[n].text);return`\n    <div class='test test--game'>\n      <div class="test__wrap">\n        <span class="test__level">${t.level}</span>\n        <p class="test__question test__question--anime">${t.question}</p>\n        <p class="test__answer answer">${s}</p>\n        <p class="test__text"><b>${e}</b> ${t.answers.commonText}</p>\n        <button class="test__next">\n          ${t.btnTitle} <span class="test__arrow"><i class="fas fa-arrow-right"></i></span>\n        </button\n      </div>  \n  `}(this.data[t(e)],s)}getCondition(t){let s=document.querySelector(".test__answer");t?s.classList.add("test__answer--right"):s.classList.add("test__answer--loose")}init(e,n,a){this.getLayout(e,n),this.getCondition(a),document.querySelector(".test__next").addEventListener("click",e=>{if(e.preventDefault(),n==s){return(new r).init()}return n++,(new c).init(t(n))})}}class c{constructor(){this.data=window.testData,this.isUserAnswerRight=!1}getLayout(t=1){document.querySelector(".container").innerHTML=function(t,e){return document.querySelector(".container").innerHTML="",`\n    <div class="test test--game">\n      <div class="test__wrap ">\n        <span class="test__level">${e}/${s}</span>\n        <p class="test__question">${t.question}</p>\n        <ul class="test__list">\n          <li class="test__item">\n            <a class="answer" href="#" onclick="return false">${t.answers.first.answer}</a>\n          </li>\n          <li class="test__item">\n            <a class="answer" href="#" onclick="return false">${t.answers.second.answer}</a>\n          </li>\n          <li class="test__item">\n            <a class="answer" href="#" onclick="return false">${t.answers.third.answer}</a>\n          </li>\n          <li class="test__item">\n            <a class="answer" href="#" onclick="return false">${t.answers.fourth.answer}</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  `}(this.data[t],t)}init(s){this.getLayout(s),document.querySelector(".test__list").addEventListener("click",n=>{let a,i=n.target;if(console.log(i),"A"==i.tagName)return i.textContent===this.data[t(s)].answers.right?(e.success+=1,this.isUserAnswerRight=!0,(a=new l).init(i.textContent,s,this.isUserAnswerRight)):(e.mistakes+=1,(a=new l).init(i.textContent,s,this.isUserAnswerRight))})}}let o=new class{constructor(){this.data=window.testData}getLayout(){var t;document.querySelector(".container").innerHTML=`\n    <div class="test">\n\n      <div class="test__wrapper">\n        <span class="test__describe">${(t=this.data.startPage).describe}</span>\n        <h1 class="test__title">${t.title}</h1>\n        <p class="test__subtitle">${t.subtitle}</p>\n      </div>\n\n      <div class="test__cash">\n        <img src='img/cash.png' alt='американские доллары' data-rjs="3">\n      </div>\n      <div class="test__face">\n        <img src='img/face.png' alt='профиль известного предпринимателя' data-rjs="3">\n      </div>\n      <div class="test__newspapper">\n        <img src='img/newspapper.png' alt='газета' data-rjs="3">\n      </div>\n\n      <div>\n        <button class="test__start btn">${t.btnTitle}</button>\n      </div>\n\n    </div>\n  `}init(){this.getLayout(),document.querySelector(".test__start").addEventListener("click",s=>(s.preventDefault(),(new c).init(t(1))))}};(new class{init(){return o.init()}}).init()}();