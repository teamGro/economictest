!function(){"use strict";function t(t){return t}const e=8;let s={mistakes:0,success:0};let a="https://economictest.herokuapp.com",i='"Как хорошо вы разбираетесь в новостях бизнеса"';function r(t){return t}var l,n,u;l=window,n=document,(u=function(t){this.elem=t}).init=function(){var t,e=n.querySelectorAll("[data-sharer]"),s=e.length;for(t=0;t<s;t++)e[t].addEventListener("click",u.add)},u.add=function(t){var e=t.currentTarget||t.srcElement;new u(e).share()},u.prototype={constructor:u,getValue:function(t){var e=this.elem.getAttribute("data-"+t);return e&&"hashtag"===t&&(e.startsWith("#")||(e="#"+e)),e},share:function(){var t=this.getValue("sharer").toLowerCase(),e={facebook:{shareUrl:"https://www.facebook.com/sharer/sharer.php",params:{u:this.getValue("url"),hashtag:this.getValue("hashtag")}},linkedin:{shareUrl:"https://www.linkedin.com/shareArticle",params:{url:this.getValue("url"),mini:!0}},twitter:{shareUrl:"https://twitter.com/intent/tweet/",params:{text:this.getValue("title"),url:this.getValue("url"),hashtags:this.getValue("hashtags"),via:this.getValue("via")}},email:{shareUrl:"mailto:"+this.getValue("to")||"",params:{subject:this.getValue("subject"),body:this.getValue("title")+"\n"+this.getValue("url")},isLink:!0},whatsapp:{shareUrl:null!==this.getValue("web")?"https://api.whatsapp.com/send":"whatsapp://send",params:{text:this.getValue("title")+" "+this.getValue("url")},isLink:!0},telegram:{shareUrl:"tg://msg_url",params:{text:this.getValue("title"),url:this.getValue("url"),to:this.getValue("to")},isLink:!0},viber:{shareUrl:"viber://forward",params:{text:this.getValue("title")+" "+this.getValue("url")},isLink:!0},line:{shareUrl:"http://line.me/R/msg/text/?"+encodeURIComponent(this.getValue("title")+" "+this.getValue("url")),isLink:!0},pinterest:{shareUrl:"https://www.pinterest.com/pin/create/button/",params:{url:this.getValue("url"),media:this.getValue("image"),description:this.getValue("description")}},tumblr:{shareUrl:"http://tumblr.com/widgets/share/tool",params:{canonicalUrl:this.getValue("url"),content:this.getValue("url"),posttype:"link",title:this.getValue("title"),caption:this.getValue("caption"),tags:this.getValue("tags")}},hackernews:{shareUrl:"https://news.ycombinator.com/submitlink",params:{u:this.getValue("url"),t:this.getValue("title")}},reddit:{shareUrl:"https://www.reddit.com/submit",params:{url:this.getValue("url")}},vk:{shareUrl:"http://vk.com/share.php",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("caption"),image:this.getValue("image")}},xing:{shareUrl:"https://www.xing.com/app/user",params:{op:"share",url:this.getValue("url"),title:this.getValue("title")}},buffer:{shareUrl:"https://buffer.com/add",params:{url:this.getValue("url"),title:this.getValue("title"),via:this.getValue("via"),picture:this.getValue("picture")}},instapaper:{shareUrl:"http://www.instapaper.com/edit",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("description")}},pocket:{shareUrl:"https://getpocket.com/save",params:{url:this.getValue("url")}},digg:{shareUrl:"http://www.digg.com/submit",params:{url:this.getValue("url")}},stumbleupon:{shareUrl:"http://www.stumbleupon.com/submit",params:{url:this.getValue("url"),title:this.getValue("title")}},flipboard:{shareUrl:"https://share.flipboard.com/bookmarklet/popout",params:{v:2,title:this.getValue("title"),url:this.getValue("url"),t:Date.now()}},weibo:{shareUrl:"http://service.weibo.com/share/share.php",params:{url:this.getValue("url"),title:this.getValue("title"),pic:this.getValue("image"),appkey:this.getValue("appkey"),ralateUid:this.getValue("ralateuid"),language:"zh_cn"}},renren:{shareUrl:"http://share.renren.com/share/buttonshare",params:{link:this.getValue("url")}},myspace:{shareUrl:"https://myspace.com/post",params:{u:this.getValue("url"),t:this.getValue("title"),c:this.getValue("description")}},blogger:{shareUrl:"https://www.blogger.com/blog-this.g",params:{u:this.getValue("url"),n:this.getValue("title"),t:this.getValue("description")}},baidu:{shareUrl:"http://cang.baidu.com/do/add",params:{it:this.getValue("title"),iu:this.getValue("url")}},douban:{shareUrl:"https://www.douban.com/share/service",params:{name:this.getValue("title"),href:this.getValue("url"),image:this.getValue("image")}},okru:{shareUrl:"https://connect.ok.ru/dk",params:{"st.cmd":"WidgetSharePreview","st.shareUrl":this.getValue("url"),title:this.getValue("title")}},mailru:{shareUrl:"http://connect.mail.ru/share",params:{share_url:this.getValue("url"),linkname:this.getValue("title"),linknote:this.getValue("description"),type:"page"}},evernote:{shareUrl:"http://www.evernote.com/clip.action",params:{url:this.getValue("url"),title:this.getValue("title")}},skype:{shareUrl:"https://web.skype.com/share",params:{url:this.getValue("url"),title:this.getValue("title")}}}[t];return e&&(e.width=this.getValue("width"),e.height=this.getValue("height")),void 0!==e&&this.urlSharer(e)},urlSharer:function(t){var e,s=t.params||{},a=Object.keys(s),i=a.length>0?"?":"";for(e=0;e<a.length;e++)"?"!==i&&(i+="&"),s[a[e]]&&(i+=a[e]+"="+encodeURIComponent(s[a[e]]));if(t.shareUrl+=i,t.isLink)l.location.href=t.shareUrl;else{var r=t.width||600,n=t.height||480,u=l.innerWidth/2-r/2+l.screenX,c="scrollbars=no, width="+r+", height="+n+", top="+(l.innerHeight/2-n/2+l.screenY)+", left="+u,h=l.open(t.shareUrl,"",c);l.focus&&h.focus()}}},"complete"===n.readyState||"loading"!==n.readyState?u.init():n.addEventListener("DOMContentLoaded",u.init),l.addEventListener("page:load",u.init),l.Sharer=u;class c{constructor(){this.data=window.testData}getLayout(){let t=document.querySelector(".container");t.innerHTML="",t.innerHTML=function(t){let l="",n={};return 0==s.success?(l="Мне больше интересен футбол",n.src="img/football.png",n.src2x="img/football@2x.png",n.alt='"Мне больше интересен футбол"',n.myClassName='"test__box box box--zero"'):s.success<=3?(l='Читаю <a href="#">vc.ru</a> с экрана попутчика в метро',n.src="img/women.png",n.alt='"Читаю с экрана попутчика в метро"',n.myClassName='"test__box box box--three"'):s.success<=5?(l="Бизнес это интересно,<br> но где взять столько времени?",n.src="img/hand.png",n.alt='"Бизнес это интересно, но где взять столько времени?"',n.myClassName='"test__box box box--five"'):s.success<=7?(l='Читаю <a href="#">vc.ru</a> каждый день, но работать тоже нужно',n.src="img/man.png",n.alt='"Читаю vc.ru каждый день, но работать тоже нужно"',n.myClassName='"test__box box box--seven"'):(l='Я работаю<br> в редакции <a href="#">vc.ru</a>',n.src="img/editor.png",n.alt='"Я работаю в редакции vc.ru"',n.myClassName='"test__box box box--eight"'),`\n\n    <div class="test test--game">\n      <div class="test__wrap test__wrap--result">\n        <p class="test__level">${s.success} из ${e} правильных ответов</p>\n        <p class="test__result">${l}</p>\n        <ul class="test__socials socials">\n\n          <li class="socials__item">\n            <a class="socials__link" href="http://www.facebook.com" data-sharer="facebook" data-url=${a} target="_blank">\n              <span class="visually-hidden">fb</span>\n              <i class="socials__icon fab fa-facebook-f"></i>\n              <span class="socials__text">Поделиться</span>\n            </a>\n          </li>\n\n          <li class="socials__item">\n            <a class="socials__link" href="http://vk.com/" data-sharer="vk" data-title=${i} data-url=${a} target="_blank">\n              <span class="visually-hidden">vk</span>\n              <i class="socials__icon fab fa-vk"></i>\n            </a>            \n          </li>\n\n          <li class="socials__item">\n            <a class="socials__link" href="https:/twitter.com" data-sharer="twitter" data-title=${i} data-url=${a} target="_blank" >\n              <span class="visually-hidden">twitter</span>\n              <i class="socials__icon fab fa-twitter"></i>\n            </a>\n          </li>\n        </ul>\n\n        <button class="test__repeat">\n          ${t.btnTitle}\n          <i class="test__refresh fas fa-redo"></i>\n        </button>\n      </div>\n\n      <div class=${r(n.myClassName)}>\n        <img class="box__img" src=${r(n.src)} alt=${r(n.alt)} data-rjs="3">\n      </div>\n    </div>\n  `}(this.data.result)}init(){this.getLayout(),this.repeat();let t=document.querySelectorAll(".socials__link");window.Sharer.init();for(let e of t)e.addEventListener("click",t=>{t.preventDefault(),window.Sharer.init()})}repeat(e=1){document.querySelector(".test__repeat").addEventListener("click",a=>{return a.preventDefault(),s.success=0,s.mistakes=0,(new o).init(t(e))})}}class h{constructor(){this.data=window.testData}getLayout(e,s){let a=document.querySelector(".container");a.innerHTML="",a.innerHTML=function(t,e){let s="";for(let a in t.answers)t.answers[a].answer==e&&(s=t.answers[a].text);return`\n    <div class='test test--game'>\n      <div class="test__wrap">\n        <span class="test__level">${t.level}</span>\n        <p class="test__question test__question--anime">${t.question}</p>\n        <p class="test__answer answer">${e}</p>\n        <p class="test__text"><b>${s}</b> ${t.answers.commonText}</p>\n        <button class="test__next">\n          ${t.btnTitle} <span class="test__arrow"><i class="fas fa-arrow-right"></i></span>\n        </button\n      </div>  \n  `}(this.data[t(s)],e)}getCondition(t){let e=document.querySelector(".test__answer");t?e.classList.add("test__answer--right"):e.classList.add("test__answer--loose")}init(s,a,i){this.getLayout(s,a),this.getCondition(i),document.querySelector(".test__next").addEventListener("click",s=>{if(s.preventDefault(),a==e){return(new c).init()}return a++,(new o).init(t(a))})}}class o{constructor(){this.data=window.testData,this.isUserAnswerRight=!1}getLayout(t=1){document.querySelector(".container").innerHTML=function(t,s){return document.querySelector(".container").innerHTML="",`\n    <div class="test test--game">\n      <div class="test__wrap ">\n        <span class="test__level">${s}/${e}</span>\n        <p class="test__question">${t.question}</p>\n        <ul class="test__list">\n          <li class="test__item">\n            <a class="answer" href="#" onclick="return false">${t.answers.first.answer}</a>\n          </li>\n          <li class="test__item">\n            <a class="answer" href="#" onclick="return false">${t.answers.second.answer}</a>\n          </li>\n          <li class="test__item">\n            <a class="answer" href="#" onclick="return false">${t.answers.third.answer}</a>\n          </li>\n          <li class="test__item">\n            <a class="answer" href="#" onclick="return false">${t.answers.fourth.answer}</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  `}(this.data[t],t)}init(e){this.getLayout(e),document.querySelector(".test__list").addEventListener("click",a=>{let i,r=a.target;if("A"==r.tagName)return r.textContent===this.data[t(e)].answers.right?(s.success+=1,this.isUserAnswerRight=!0,(i=new h).init(r.textContent,e,this.isUserAnswerRight)):(s.mistakes+=1,(i=new h).init(r.textContent,e,this.isUserAnswerRight))})}}let p=new class{constructor(){this.data=window.testData}getLayout(){var t;document.querySelector(".container").innerHTML=`\n    <div class="test">\n\n      <div class="test__wrapper">\n        <span class="test__describe">${(t=this.data.startPage).describe}</span>\n        <h1 class="test__title">${t.title}</h1>\n        <p class="test__subtitle">${t.subtitle}</p>\n      </div>\n\n      <div class="test__cash">\n        <img src='img/cash.png' alt='американские доллары' data-rjs="3">\n      </div>\n      <div class="test__face">\n        <img src='img/face.png' alt='профиль известного предпринимателя' data-rjs="3">\n      </div>\n      <div class="test__newspapper">\n        <img src='img/newspapper.png' alt='газета' data-rjs="3">\n      </div>\n\n      <div>\n        <button class="test__start btn">${t.btnTitle}</button>\n      </div>\n\n    </div>\n  `}init(){this.getLayout(),document.querySelector(".test__start").addEventListener("click",e=>(e.preventDefault(),(new o).init(t(1))))}};(new class{init(){return p.init()}}).init()}();